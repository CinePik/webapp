<main>
  @if (loading) {
    <div class="mt-5">
      <app-loading></app-loading>
    </div>
  } @else {
    @if (data) {
      <!-- Cover image -->
      <img
        [src]="backdrop_path"
        class="img-fluid limit-height"
        alt="Movie backdrop" />
      <div class="container-fluid py-2">
        <!-- Title -->
        <h3 class="mb-1">{{ title }}</h3>

        <!-- Release date & Rating -->
        <div class="mb-1 text-small text-muted">
          @if (release_date) {
            <span class="me-2">
              {{ release_date | date: 'yyyy' }}
            </span>
          }

          <span>
            <i class="bi bi-star"></i>
            {{ vote_average }} ({{ vote_count }})
          </span>
        </div>

        <!-- Genres -->
        <div class="mb-2">
          @for (genre of genres; track $index) {
            <span class="badge bg-secondary me-1">{{ genre | titlecase }}</span>
          }
        </div>

        <!-- Description -->
        <div class="row mb-2">
          <div class="col-xl-10">
            <p>{{ overview }}</p>
          </div>
        </div>

        <!-- Recommended Movies -->
        @if (!isShow && similar) {
          <div class="row mb-5">
            <div class="col-12">
              <h3>Recommended Movies</h3>
              <hr />
              <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-1">
                @for (movie of similar; track movie.id) {
                  <div class="col">
                    <app-movie
                      [movie]="movie"
                      [clickable]="false"
                      [objectHasContent]="false"></app-movie>
                  </div>
                }
              </div>
            </div>
          </div>
        }
      </div>
    } @else {
      <div class="text-center text-muted mt-4">
        <h6>No movie data found</h6>
      </div>
    }
  }
</main>
